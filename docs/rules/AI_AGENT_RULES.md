# Zenta – AI Agent Rules

_Updated: 2025-11-25_

กฎชุดนี้ใช้กับ **AI ทุกตัว** ที่มาช่วยงานในโปรเจกต์ Zenta (ทั้ง coding, research, content) เพื่อให้ทำงานสอดคล้องกันและไม่พังระบบ

โปรดอ่านควบคู่กับ:
- `docs/research/zenta-research-handbook.md`
- `docs/zenta-website-content-ia-plan.md`
- `docs/zenta-website-dev-architecture-roadmap.md`

---

## 1. Workflow & Communication

1. **Plan ก่อนลงมือเสมอ**  
   - อธิบายสิ่งที่จะทำเป็น step สั้น ๆ ก่อนเขียนโค้ด/แก้ไฟล์
   - ถ้าเป็นงานใหญ่ ให้เสนอแผนคร่าว ๆ แล้วรอ user ตอบตกลงทิศทางก่อน

2. **ทำทีละก้าวเล็ก ๆ**  
   - แยกงานใหญ่เป็นหลาย step และรายงานว่าแต่ละ step ทำอะไรไปแล้วบ้าง
   - หลีกเลี่ยงการ refactor หรือแก้ไฟล์จำนวนมากในรอบเดียวถ้าไม่จำเป็น

3. **ห้ามเคลมว่า “เสร็จ/ใช้ได้แล้ว” โดยไม่ผ่านการยืนยันจาก user**  
   - ใช้ภาษาว่า "implemented ตามแผนแล้ว รอคุณช่วยทดสอบ" มากกว่าบอกว่าเสร็จสมบูรณ์

4. **ถามให้ชัดเมื่อ requirement ยังไม่เคลียร์**  
   - ถ้าสงสัย detail ใด ๆ ให้ถามเพิ่ม แทนที่จะเดาแล้วลงมือ

---

## 2. Commands & Tools

1. **ห้ามรัน dev server เอง**  
   - ห้ามรันคำสั่งพวก `npm run dev` / `pnpm dev` / `yarn dev`
   - ถ้าต้อง restart หรือปรับ server ให้ขอให้ user จัดการ

2. **คำสั่ง shell อื่น ๆ**  
   - ใช้คำสั่งที่ไม่ destructive เท่านั้น (เช่น `git status`, `ls`, `npm ls` ฯลฯ) เว้นแต่ user ขอแบบชัดเจน
   - อย่าใช้คำสั่งที่ลบไฟล์, reset git, หรือเปลี่ยนระบบ โดยไม่อธิบายผลลัพธ์และขออนุมัติ

3. **Git**  
   - ไม่ใช้ `git revert`, `git reset` หรือคำสั่งเปลี่ยน history เอง  
   - ถ้าเห็นว่าต้องย้อนโค้ด ให้เสนอเป็นคำอธิบาย และให้ user เป็นคนรันคำสั่งเอง

---

## 3. Code Editing Rules

1. **แก้ไขแบบเฉพาะจุดและต่อไฟล์**  
   - เวลาจะแก้โค้ด ใช้การแก้ **ทีละไฟล์** ต่อหนึ่ง tool call ตามที่ระบบรองรับ
   - หลาย ๆ การแก้ในไฟล์เดียวสามารถรวมใน patch เดียวได้ แต่เลี่ยงการกระโดดแก้หลายไฟล์ใหญ่พร้อมกันถ้าไม่จำเป็น

2. **เคารพ style ของโปรเจกต์**  
   - ใช้ Next.js App Router + TypeScript + Tailwind ตามแผนใน `zenta-website-dev-architecture-roadmap.md`
   - อย่าเปลี่ยนสถาปัตยกรรม/โครงไฟล์ครั้งใหญ่โดยไม่คุยกับ user ก่อน

3. **อย่าแก้หรือลบ comment / docs โดยไม่จำเป็น**  
   - ถ้า user ไม่ได้สั่งให้ปรับ comment/docs อย่าแก้ไข

4. **ตรวจความสมบูรณ์เชิงตรรกะก่อนบอกว่าทำเสร็จ**  
   - เช็กว่า import, type, props ชัดเจนและไม่มีจุดผิดพลาดที่มองเห็นได้จากโค้ด

---

## 4. Documentation Rules

1. **ใช้ docs ให้คุ้ม ก่อนลงมือเดา**  
   - ถ้างานเกี่ยวกับกลยุทธ์เว็บ/โครงสร้าง → อ่าน `zenta-research-handbook.md` และไฟล์ที่มันชี้ก่อน
   - อย่าสร้าง docs ใหม่กระจายโดยไม่มีเหตุผลชัดเจน

2. **ตำแหน่งเก็บ docs**  
   - `docs/research/` → research, competitor analysis, market, strategy
   - `docs/rules/` → rules ระดับโปรเจกต์/AI
   - (ถ้ามีเพิ่ม เช่น `docs/architecture/`, `docs/content/` ให้ตามแผนใน `docs/DOCS_STRUCTURE.md`)

3. **เอกสารต้อง lean และ practical**  
   - ถ้าจะสร้าง doc ใหม่ ให้ตอบได้ชัดเจนว่ามันช่วยตัดสินใจหรือช่วย dev อย่างไร
   - เลี่ยง duplicate เนื้อหาจาก docs อื่น เว้นแต่เป็น summary พร้อมลิงก์อ้างอิง

---

## 5. Safety & Production (สำหรับอนาคตเมื่อโปรเจกต์ live)

> ข้อนี้เตรียมไว้ล่วงหน้า เมื่อ Zenta ถูก deploy และมี traffic จริง

1. **อย่าแก้ config/SEO/เนื้อหาที่ส่งผล production โดยไม่บอก**  
   - การแก้ things อย่างเช่น meta tags สำคัญ, robots, sitemap, analytics, หรือ config hosting ต้องแจ้งและได้ approval ก่อน

2. **ระวังการแก้ UI ส่วน public ที่ critical**  
   - Layout หลัก, header/footer, navigation, ฟอร์ม lead สำคัญ → ถ้าเปลี่ยน structure ใหญ่ ต้องคุย user ก่อน

3. **แนะนำให้ commit/backup ก่อน change เสี่ยง**  
   - เมื่อเสนอการเปลี่ยนที่ impact เยอะ ให้เตือน user ให้ commit/backup ก่อนเสมอ

---

## 6. Debugging & Quality Mindset

1. **วิเคราะห์ก่อนแก้**  
   - อ่านโค้ด/flow ที่เกี่ยวข้องให้เข้าใจ root cause ก่อนเสนอ fix
   - หลีกเลี่ยงการลองเดาโค้ดแบบ “หวังว่าจะใช้ได้” โดยไม่มีเหตุผลรองรับ

2. **แก้ทีละ issue และตรวจ side effect**  
   - เวลาฟิกซ์ bug: ทำการเปลี่ยนให้เล็กที่สุด, เช็กผลกระทบกับส่วนอื่น

3. **อย่าโยนความผิดไปที่ส่วนอื่นโดยไม่มีหลักฐาน**  
   - ถ้าการเปลี่ยนของ agent ทำให้เกิด error ให้ถือว่าเป็นความรับผิดชอบของ agent นั้นในการช่วยแก้

---

## 7. Research & Exploration

1. **ใช้ research ที่มีอยู่ก่อน**  
   - เวลาออกแบบ content/IA/positioning ให้ยึดเอกสารใน `docs/research/` เป็นฐาน (โดยเฉพาะ handbook + gaps/opportunities)

2. **ถ้าต้องอ่านเว็บภายนอก**  
   - อ่านแบบ targeted: เปิดเฉพาะหน้าที่จำเป็นและจำนวนจำกัด เพื่อลดโอกาสโดน block
   - สรุป insight กลับมาเก็บใน docs แทนจะคอยยิงเว็บซ้ำไปมา

---

## 8. การทำงานร่วมกันระหว่าง AI หลายตัว

1. **เคารพโครงที่มีอยู่**  
   - ถ้า agent อื่นได้วางแผนโครงสร้างไว้แล้ว (เช่น docs structure, app routes) อย่าเปลี่ยนโดยพลการ

2. **อัปเดต docs เมื่อมีการตัดสินใจสำคัญ**  
   - ถ้ามีการตัดสินใจเชิง architecture / content ที่สำคัญ ให้ update docs ที่เกี่ยวข้อง (เช่น architecture plan, content IA) แทนการเก็บไว้แค่ใน chat

3. **สื่อสารการเปลี่ยนแปลงชัดเจน**  
   - เวลาแก้โค้ดหรือ docs ให้เขียนในคำอธิบายว่าทำอะไร, ทำไม, และเกี่ยวข้องกับ spec/docs ข้อไหน

---

## 9. สรุปสั้น ๆ

- **Plan → Small steps → Ask user to test → Then continue**
- ไม่รัน dev server เอง, ไม่เล่นกับ git/history เอง
- ใช้ docs ที่มีอยู่เป็น base, อย่า spam สร้างไฟล์เพิ่มโดยไม่จำเป็น
- โฟกัสแก้ปัญหาแบบมีเหตุผล ชัดเจน และปลอดภัยต่อระบบ/ธุรกิจ
